import{b as E,h}from"./headers-C9OjJDj3.js";async function b(e){try{(await fetch(E+"/"+e,{method:"DELETE",headers:h()})).ok&&alert("Post Deleted")}catch{alert("Something went wrong trying to delete post")}}async function w(e){const n=e.target.id;console.log("id:",n),await b(n),location.reload()}const N=(e,n)=>{const u=document.getElementById(n);u.className="flex flex-col items-center mt-20";const p=JSON.parse(localStorage.getItem("userInfo")).name,l=document.createElement("div");l.className="flex flex-col gap-3 max-w-[750px] w-full rounded-md bg-lightGray mb-10 shadow-blue shadow-lg p-5 ";const i=document.createElement("div");i.className="flex gap-10 justify-between items-center";const s=document.createElement("h2");s.innerText=e.title,s.className="text-center text-blue text-2xl font-semibold";const d=document.createElement("p");d.innerText=e.body,d.className="text-blue font-semibold";const o=document.createElement("div");if(o.className="max-h-[200px] overflow-hidden w-auto flex items-center justify-center",e.media){const t=document.createElement("img");t.src=e.media.url,t.alt=e.media.alt,t.className="max-h-[200px]",o.appendChild(t)}else{const t=document.createElement("p");t.innerText="*Image Not Found*",o.appendChild(t)}const r=document.createElement("div");r.className="flex gap-10";const m=document.createElement("button");m.innerHTML='<i class="fa-solid fa-pen fa-lg" style="color: #000000;"></i>',m.addEventListener("click",()=>{localStorage.setItem("postID",JSON.stringify(e.id)),localStorage.setItem("post",JSON.stringify(e)),window.location.href="/post/edit/"});const a=document.createElement("button");a.innerHTML=`<i id="${e.id}" class="fa-solid fa-trash fa-lg" style="color: #050505;"></i>`,a.id=e.id,a.addEventListener("click",w);const f=document.createElement("div");f.className="flex gap-10";const x=document.createElement("div");x.innerHTML=`
        <p><i class="fa-solid fa-comment fa-xl"  style="color: #146EAE"></i> ${e._count.comments}</p>`;const g=document.createElement("div");g.innerHTML=`
        <p><i class="fa-solid fa-heart fa-xl" style="color: #c50d0d;"></i> ${e._count.reactions}</p>`;const c=document.createElement("button");c.className="buttonEffect text-blue text-l font-semibold text-center w-full",c.innerText="See Post",c.addEventListener("click",()=>{window.location.href="/post/",localStorage.setItem("postID",JSON.stringify(e.id))}),i.append(f,r),f.append(x,g),l.append(s,d,o,c,i),u.append(l),p===e.author.name&&r.append(m,a)};export{N as m};
//# sourceMappingURL=makePost-Dn_LDsC4.js.map
