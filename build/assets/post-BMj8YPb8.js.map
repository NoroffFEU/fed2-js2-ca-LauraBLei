{"version":3,"file":"post-BMj8YPb8.js","sources":["../../src/js/router/views/post.js"],"sourcesContent":["import { readPost } from \"../../api/post/read\";\r\nimport { makeHeader } from \"../../ui/global/header\";\r\nimport { makeAPost } from \"../../ui/post/makePost\";\r\n\r\nconst id = JSON.parse(localStorage.getItem(\"postID\"));\r\nconst userinfo = JSON.parse(localStorage.getItem(\"userInfo\"));\r\n\r\n/**\r\n * fetches the single post - and creates the html for it.\r\n *\r\n * @example\r\n * ```js\r\n * showPost()\r\n * ```\r\n */\r\nconst header = document.querySelector(\"header\");\r\nmakeHeader(header);\r\n\r\nconst showPost = async () => {\r\n  const post = await readPost(id);\r\n  const comments = post.comments;\r\n  const commentContainer = document.getElementById(\"postCommentContainer\");\r\n\r\n  const outerContainer = document.getElementById(\"postContainer\");\r\n  outerContainer.className = \"flex flex-col items-center mt-20 w-full\";\r\n\r\n  const username = post.author.name;\r\n\r\n  const container = document.createElement(\"div\");\r\n  container.className =\r\n    \"flex flex-col gap-3 max-w-[750px] w-full rounded-md bg-lightGray mb-10 shadow-blue shadow-lg p-5 \";\r\n  const countDiv = document.createElement(\"div\");\r\n  countDiv.className = \"flex gap-10 justify-between items-center\";\r\n\r\n  const title = document.createElement(\"h2\");\r\n  title.innerText = post.title;\r\n  title.className = \"text-center text-blue text-2xl font-semibold\";\r\n\r\n  const author = document.createElement(\"p\");\r\n  author.innerHTML = `<p>Author: ${username}`;\r\n  author.className = \"text-blue text-lg font-bold\";\r\n\r\n  const text = document.createElement(\"p\");\r\n  text.innerText = post.body;\r\n  text.className = \"text-blue text-xl font-semibold\";\r\n\r\n  const imageDiv = document.createElement(\"div\");\r\n  imageDiv.className =\r\n    \"max-h-[500px] overflow-hidden w-auto flex items-center justify-center\";\r\n  if (post.media) {\r\n    const image = document.createElement(\"img\");\r\n    image.src = post.media.url;\r\n    image.alt = post.media.alt;\r\n    image.className = \"max-h-[500px]\";\r\n\r\n    imageDiv.appendChild(image);\r\n  } else {\r\n    const image = document.createElement(\"p\");\r\n    image.innerText = \"*Image Not Found*\";\r\n\r\n    imageDiv.appendChild(image);\r\n  }\r\n\r\n  const reactionSection = document.createElement(\"div\");\r\n  reactionSection.className = \"flex gap-10\";\r\n\r\n  const commentsDiv = document.createElement(\"div\");\r\n  commentsDiv.innerHTML = `\r\n        <p><i class=\"fa-solid fa-comment fa-xl\"  style=\"color: #146EAE\"></i> ${post._count.comments}</p>`;\r\n\r\n  const reactionDiv = document.createElement(\"div\");\r\n  reactionDiv.innerHTML = `\r\n        <p><i class=\"fa-solid fa-heart fa-xl\" style=\"color: #c50d0d;\"></i> ${post._count.reactions}</p>`;\r\n\r\n  const tagsContainer = document.createElement(\"div\");\r\n  tagsContainer.className = \"flex gap-2 items-center\";\r\n\r\n  const tagsDiv = document.createElement(\"div\");\r\n  tagsDiv.className = \"flex gap-4\";\r\n\r\n  const tagText = document.createElement(\"p\");\r\n  tagText.className = \"text-blue text-lg font-bold\";\r\n  tagText.innerText = \"Tags:\";\r\n  post.tags.forEach((tagText) => {\r\n    const tag = document.createElement(\"p\");\r\n    tag.innerText = tagText;\r\n    tag.className = \"text-blue text-lg font-bold\";\r\n\r\n    tagsDiv.append(tag);\r\n  });\r\n\r\n  countDiv.append(reactionSection);\r\n  reactionSection.append(commentsDiv, reactionDiv);\r\n  container.append(title, text, imageDiv, author, tagsContainer, countDiv);\r\n  tagsContainer.append(tagText, tagsDiv);\r\n  outerContainer.append(container);\r\n\r\n  comments.forEach((comment) => {\r\n    const commentDiv = document.createElement(\"div\");\r\n    commentDiv.className = \"bg-lightGray w-full p-5 rounded-md max-w-[750px] w\";\r\n\r\n    const commentInfoDiv = document.createElement(\"div\");\r\n    commentInfoDiv.className = \"flex justify-between\";\r\n\r\n    const commentAuthor = document.createElement(\"p\");\r\n    commentAuthor.innerText = comment.author.name;\r\n    commentAuthor.className = \"text-blue text-xl\";\r\n\r\n    const commentDate = document.createElement(\"p\");\r\n    commentDate.innerText = comment.created;\r\n\r\n    const commentText = document.createElement(\"p\");\r\n    commentText.innerText = comment.body;\r\n\r\n    commentInfoDiv.append(commentAuthor, commentDate);\r\n    commentDiv.append(commentInfoDiv, commentText);\r\n    commentContainer.append(commentDiv);\r\n  });\r\n};\r\n\r\nshowPost();\r\n"],"names":["id","header","makeHeader","showPost","post","readPost","comments","commentContainer","outerContainer","username","container","countDiv","title","author","text","imageDiv","image","reactionSection","commentsDiv","reactionDiv","tagsContainer","tagsDiv","tagText","tag","comment","commentDiv","commentInfoDiv","commentAuthor","commentDate","commentText"],"mappings":"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"}