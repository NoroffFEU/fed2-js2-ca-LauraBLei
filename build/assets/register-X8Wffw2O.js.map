{"version":3,"file":"register-X8Wffw2O.js","sources":["../../src/js/api/auth/register.js","../../src/js/ui/auth/register.js","../../src/js/router/views/register.js"],"sourcesContent":["import { API_AUTH_REGISTER } from \"../constants\";\r\nimport { headers } from \"../headers\";\r\n\r\n/**\r\n * Function that will register a user\r\n * @param {object} userInfo - userinfo object, that container name, email and password.\r\n * @param {string} userInfo.name - user name\r\n * @param {string} userInfo.email - user email\r\n * @param {string} userInfo.password - user password\r\n * @example\r\n * ```js\r\n * register({name: \"Thor\", email: \"email@stud.noroff.no\", password: \"password123\"})\r\n * ```\r\n */\r\n\r\nexport async function register({ name, email, password }) {\r\n  const body = {\r\n    name: name,\r\n    email: email,\r\n    password: password,\r\n  };\r\n\r\n  try {\r\n    const response = await fetch(API_AUTH_REGISTER, {\r\n      method: \"POST\",\r\n      headers: headers(),\r\n      body: JSON.stringify(body),\r\n    });\r\n    if (response.ok) {\r\n      alert(`Successfully created user \"${name}\"`);\r\n      window.location.href = \"/auth/login/\";\r\n    }\r\n  } catch (error) {\r\n    alert(\"Something went wrong trying to register an account\");\r\n  }\r\n}\r\n","import { register } from \"../../api/auth/register\";\r\n/**\r\n * Fetch Register form data and run the fetch call aka. Register a user\r\n * @param {object} event\r\n * @example\r\n * ```js\r\n * form.addEventListener(\"submit\", onRegister)\r\n * ```\r\n */\r\nexport async function onRegister(event) {\r\n  event.preventDefault();\r\n\r\n  const formData = new FormData(event.target);\r\n\r\n  const registerData = {\r\n    name: formData.get(\"name\"),\r\n    email: formData.get(\"email\"),\r\n    password: formData.get(\"password\"),\r\n  };\r\n\r\n  register(registerData);\r\n}\r\n","import { onRegister } from \"../../ui/auth/register\";\r\n\r\nconst form = document.forms.register;\r\n\r\nform.addEventListener(\"submit\", onRegister);\r\n"],"names":["register","name","email","password","body","API_AUTH_REGISTER","headers","onRegister","event","formData","registerData","form"],"mappings":"iDAeO,eAAeA,EAAS,CAAE,KAAAC,EAAM,MAAAC,EAAO,SAAAC,CAAQ,EAAI,CACxD,MAAMC,EAAO,CACX,KAAMH,EACN,MAAOC,EACP,SAAUC,CACd,EAEE,GAAI,EACe,MAAM,MAAME,EAAmB,CAC9C,OAAQ,OACR,QAASC,EAAS,EAClB,KAAM,KAAK,UAAUF,CAAI,CAC/B,CAAK,GACY,KACX,MAAM,8BAA8BH,CAAI,GAAG,EAC3C,OAAO,SAAS,KAAO,eAE1B,MAAe,CACd,MAAM,oDAAoD,CAC3D,CACH,CC1BO,eAAeM,EAAWC,EAAO,CACtCA,EAAM,eAAc,EAEpB,MAAMC,EAAW,IAAI,SAASD,EAAM,MAAM,EAEpCE,EAAe,CACnB,KAAMD,EAAS,IAAI,MAAM,EACzB,MAAOA,EAAS,IAAI,OAAO,EAC3B,SAAUA,EAAS,IAAI,UAAU,CACrC,EAEET,EAASU,CAAY,CACvB,CCnBA,MAAMC,EAAO,SAAS,MAAM,SAE5BA,EAAK,iBAAiB,SAAUJ,CAAU"}